<div class="container">
  <div class="card mb-3" *ngIf="newHotel">
    <div class="card-header">
      <button type="button" class="btn btn-default float-right" (click)="newHotel = null">Close</button>
      Create Hotel
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Name</label>
            <input type="text" [(ngModel)]="newHotel.name" class="form-control">
          </div>
          <div class="form-group">
            <label>Tagline</label>
            <input type="text" [(ngModel)]="newHotel.tagline" class="form-control">
          </div>
          <div class="form-group">
            <label>Picture (http://)</label>
            <input type="text" [(ngModel)]="newHotel.picture" class="form-control">
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>Description</label>
            <textarea type="email" [(ngModel)]="newHotel.description" rows="6" class="form-control"></textarea>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-primary" (click)="createHotel()">Create</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card mb-3" *ngIf="hotel">
    <div class="card-header">
      <button type="button" class="btn btn-default float-right" (click)="hotel = null">Close</button>
      Hotel: {{ hotel.name }}
    </div>
    <div class="card-body">
      <table class="table table-striped">
        <tr>
          <th>id</th>
          <td>{{ hotel.id }}</td>
          <th>User</th>
          <td>{{ hotel.user.first_name + ' ' + hotel.user.last_name }}</td>
        </tr>
        <tr>
          <th>Name</th>
          <td>{{ hotel.name }}</td>
          <th>Tagline</th>
          <td>{{ hotel.tagline }}</td>
        </tr>
        <tr>
          <th>Description</th>
          <td>{{ hotel.description }}</td>
          <th></th>
          <td><img [src]="hotel.picture" class="img-fluid"></td>
        </tr>
        <tr>
          <th>Created at</th>
          <td>{{ hotel.created_at }}</td>
          <th></th>
          <td><button class="btn btn-danger" (click)="deleteHotel(hotel.id)">Delete</button></td>
        </tr>
      </table>
    </div>
  </div>
  <div class="card mb-3">
    <div class="card-header">
      <button type="button" class="btn btn-primary float-right" (click)="newHotel = {}">Create Hotel</button>
      <button type="button" class="btn btn-default float-right" (click)="getHotels()">Reload hotels</button>
      Get Hotels
    </div>
    <div class="card-body">
      <table class="table table-striped">
        <tr>
          <th>id</th>
          <th>Name</th>
          <th>Tagline</th>
          <th>Picture</th>
          <th>Description</th>
          <th>Created At</th>
          <th></th>
        </tr>
        <tr *ngFor="let hotel of hotels">
          <td>{{ hotel.id }}</td>
          <td>
            {{ hotel.name }}<br>
            <small>{{ hotel.user.first_name + ' ' + hotel.user.last_name }}</small>
          </td>
          <td>{{ hotel.tagline }}</td>
          <td><img [src]="hotel.picture" width="50"></td>
          <td>{{ hotel.description }}</td>
          <td>{{ hotel.created_at }}</td>
          <td><button class="btn btn-success" (click)="getHotel(hotel.id)">Details</button></td>
        </tr>
        <tr *ngIf="hotels.length == 0">
          <td colspan="7" class="text-center">Loading</td>
        </tr>
      </table>
    </div>
  </div>
</div>
